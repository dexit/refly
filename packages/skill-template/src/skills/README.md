# MCP Connector Skill

## 概述

MCP (Model Context Protocol) 连接器技能提供了与符合 MCP 标准的外部服务进行交互的能力。此技能可以智能地决策何时使用 MCP 服务器的功能来回答用户查询，并管理与多个 MCP 服务器的连接。

## 主要功能

- **多服务器连接管理**：可以同时连接并监控多个 MCP 服务器
- **智能决策系统**：分析用户查询，决定是否使用 MCP 功能及使用哪个服务器的哪个功能
- **功能探索与调用**：自动探索服务器提供的工具、资源和提示，并能够正确调用它们
- **错误处理与重试**：内置错误处理和重试机制，提高调用成功率
- **结果智能处理**：对 MCP 返回的结果进行处理和格式化，使其对用户更友好

## 配置选项

- **MCP 服务器**：以逗号分隔的 MCP 服务器 URL 列表
- **自动连接**：启动时是否自动连接到服务器
- **高级提示**：是否使用高级提示系统提高决策准确性
- **重试次数**：MCP 调用失败时的重试次数
- **模型温度**：决策模型的温度设置，影响创造性和确定性

## 使用方法

1. 在技能配置中添加所需的 MCP 服务器 URL
2. 向 Refly 提出可能需要利用 MCP 功能的问题
3. 技能会自动决定是否使用 MCP 并选择最合适的功能

## 技术说明

此技能使用最新的 MCP SDK 与服务器通信，支持现代化的 StreamableHTTP 和传统的 SSE 传输方式，并通过多阶段决策系统确保对 MCP 功能的合理使用。

## 示例

用户可以提出如下类型的查询，技能将自动决定是否使用 MCP：

- 需要实时数据或计算的查询
- 需要外部工具支持的任务
- 需要特定领域知识的问题
- 需要访问非公开数据的请求

## 注意事项

- MCP 服务器需要是可访问的并符合 MCP 规范
- 服务器响应时间可能会影响查询的整体响应速度
- 某些 MCP 功能可能需要特定的权限才能访问 